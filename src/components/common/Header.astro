---
const { pathname } = Astro.url;
---

<nav
  class="fixed top-0 left-0 w-full z-50 px-6 py-6 flex justify-between items-center mix-blend-difference text-white"
>
  <a href="/" class="flex items-center gap-2 group">
    <div
      class="w-3 h-3 bg-white rounded-full animate-pulse group-hover:bg-purple-500 transition-colors"
    >
    </div>
    <span class="font-mono text-xs font-bold tracking-widest uppercase"
      >VXLVERSE <span
        class="text-gray-500 group-hover:text-purple-400 transition-colors"
        >SYS.09</span
      ></span
    >
  </a>

  <!-- Desktop Nav -->
  <div class="hidden md:flex items-center gap-8">
    <a
      href="/explore"
      class={`text-[10px] uppercase tracking-[0.2em] transition-colors ${pathname === "/explore" ? "text-white font-bold" : "text-gray-400 hover:text-white"}`}
      >Explore</a
    >
    <a
      href="/pricing"
      class={`text-[10px] uppercase tracking-[0.2em] transition-colors ${pathname === "/pricing" ? "text-white font-bold" : "text-gray-400 hover:text-white"}`}
      >Pricing</a
    >
    <a
      href="/docs"
      class="text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-white transition-colors"
      >Docs</a
    >
    <a
      href="/editor"
      class="text-[10px] uppercase tracking-[0.2em] border border-white/20 px-4 py-2 hover:bg-white hover:text-black transition-all"
      >Launch Engine</a
    >
  </div>

  <!-- Mobile Toggle -->
  <button id="mobile-menu-btn" class="md:hidden text-white focus:outline-none">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="w-6 h-6"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
    </svg>
  </button>

  <!-- Mobile Menu Overlay -->
  <div
    id="mobile-menu"
    class="fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center gap-8 opacity-0 pointer-events-none transition-opacity duration-300"
  >
    <button id="close-menu-btn" class="absolute top-6 right-6 text-white">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-8 h-8"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18 18 6M6 6l12 12"></path>
      </svg>
    </button>

    <a
      href="/explore"
      class="text-2xl font-black uppercase tracking-widest text-white hover:text-purple-500 transition-colors"
      >Explore</a
    >
    <a
      href="/pricing"
      class="text-2xl font-black uppercase tracking-widest text-white hover:text-purple-500 transition-colors"
      >Pricing</a
    >
    <a
      href="/docs"
      class="text-2xl font-black uppercase tracking-widest text-white hover:text-purple-500 transition-colors"
      >Docs</a
    >
    <a
      href="/editor"
      class="text-xl uppercase tracking-widest border border-white/20 px-8 py-3 text-white hover:bg-white hover:text-black transition-all"
      >Launch Engine</a
    >
  </div>
</nav>

<script>
  const menuBtn = document.getElementById("mobile-menu-btn");
  const closeBtn = document.getElementById("close-menu-btn");
  const menu = document.getElementById("mobile-menu");

  function toggleMenu() {
    if (menu) {
      if (menu.classList.contains("opacity-0")) {
        menu.classList.remove("opacity-0", "pointer-events-none");
      } else {
        menu.classList.add("opacity-0", "pointer-events-none");
      }
    }
  }

  menuBtn?.addEventListener("click", toggleMenu);
  closeBtn?.addEventListener("click", toggleMenu);
</script>
