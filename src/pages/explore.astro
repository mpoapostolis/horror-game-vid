---
import Layout from "../layouts/Layout.astro";
import Header from "../components/common/Header.astro";
import Card from "../components/common/Card.astro";
import "../styles/global.css";

const featuredGames = [
  {
    title: "Neon Citadel",
    subtitle: "Cyberpunk • Detective",
    badge: "RPG",
    badgeColor: "purple",
    id: "8821",
    image:
      "https://images.unsplash.com/photo-1614726365723-49cfae92782f?q=80&w=800&auto=format&fit=crop",
  },
  {
    title: "The Void Walker",
    subtitle: "Puzzle • Gravity",
    badge: "Physics",
    badgeColor: "cyan",
    id: "4102",
    image:
      "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?q=80&w=800&auto=format&fit=crop",
  },
  {
    title: "Forest of Echoes",
    subtitle: "Horror • Procedural",
    badge: "Survival",
    badgeColor: "emerald",
    id: "9931",
    image:
      "https://images.unsplash.com/photo-1511512578047-dfb367046420?q=80&w=800&auto=format&fit=crop",
  },
  {
    title: "Steel Horizon",
    subtitle: "Real-Time • Strategy",
    badge: "RTS",
    badgeColor: "zinc",
    id: "2201",
    image:
      "https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=800&auto=format&fit=crop",
  },
  {
    title: "Dream Scape",
    subtitle: "Vaporwave • Social",
    badge: "Social",
    badgeColor: "purple",
    id: "7742",
    image:
      "https://images.unsplash.com/photo-1493246507139-91e8fad9978e?q=80&w=800&auto=format&fit=crop",
  },
  {
    title: "Grim Vault",
    subtitle: "Hardcore • Dungeon",
    badge: "Crawler",
    badgeColor: "emerald",
    id: "1923",
    image:
      "https://images.unsplash.com/photo-1519074069444-1ba4fff66d16?q=80&w=800&auto=format&fit=crop",
  },
];

const categories = [
  "All Systems",
  "RPG",
  "Physics",
  "Survival",
  "Strategy",
  "Social",
  "Horror",
];
---

<Layout title="Explore | VXLVERSE">
  <Header />

  <div
    class="min-h-screen bg-[#000000] text-white pt-32 px-4 md:px-12 pb-20 relative overflow-hidden"
  >
    <!-- Background Effects (Luxe) -->
    <div class="fixed inset-0 pointer-events-none z-0">
      <div
        class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-size-[40px_40px] opacity-20"
      >
      </div>
      <div
        class="absolute inset-0 bg-[radial-gradient(circle_800px_at_100%_0%,rgba(120,119,198,0.1),transparent)]"
      >
      </div>
      <div
        class="absolute inset-0 opacity-[0.02] bg-[url('/assets/noise.png')]"
      >
      </div>
    </div>

    <div class="max-w-7xl mx-auto relative z-10">
      <!-- Page Header -->
      <div class="mb-16">
        <div
          class="flex flex-col md:flex-row justify-between items-end gap-6 mb-12"
        >
          <div>
            <div class="flex items-center gap-2 mb-4">
              <div
                class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"
              >
              </div>
              <span
                class="text-[10px] font-mono uppercase tracking-widest text-zinc-500"
                >Live Games</span
              >
            </div>
            <h1
              class="text-5xl md:text-8xl font-black uppercase tracking-tighter mb-4 text-white"
            >
              Play <span
                class="text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-cyan-500 opacity-90"
                >Awesome</span
              > Games
            </h1>
            <p class="text-zinc-400 text-lg max-w-xl font-light">
              Thousands of user-created worlds. <span class="text-white"
                >Play instantly.</span
              > No downloads.
            </p>
          </div>

          <!-- Search (Human) -->
          <div class="w-full md:w-auto relative group">
            <input
              type="text"
              placeholder="Find games..."
              class="w-full md:w-[300px] bg-black/50 border border-white/10 rounded-full px-6 py-4 text-xs font-mono focus:outline-none focus:border-white/30 transition-colors text-white placeholder-zinc-700 uppercase tracking-widest backdrop-blur-md"
            />
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-4 h-4 text-zinc-700 absolute right-6 top-1/2 -translate-y-1/2 group-hover:text-white transition-colors"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"
              ></path>
            </svg>
          </div>
        </div>

        <!-- Categories -->
        <div class="flex flex-wrap gap-2">
          {
            categories.map((cat, i) => (
              <button
                class={`px-6 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest border transition-all duration-300 ${i === 0 ? "bg-white text-black border-white hover:bg-zinc-200" : "bg-transparent text-zinc-500 border-white/5 hover:border-white/30 hover:text-white"}`}
              >
                {cat}
              </button>
            ))
          }
        </div>
      </div>

      <!-- Grid -->
      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"
      >
        {
          featuredGames.map((game, i) => (
            // @ts-ignore
            <Card
              title={game.title}
              subtitle={game.subtitle}
              badge={game.badge}
              @ts-ignore
              badgeColor={game.badgeColor}
              image={game.image}
              class={`aspect-[3/4] tilt-card delay-${i * 100}`}
            >
              <span
                slot="badge-extra"
                class="text-[9px] text-zinc-500 font-mono"
              >
                ID: {game.id}
              </span>
            </Card>
          ))
        }
      </div>
    </div>
  </div>
</Layout>

<script>
  // 3D Tilt Logic
  const cards = document.querySelectorAll(".tilt-card");
  cards.forEach((card) => {
    card.addEventListener("mousemove", (e) => {
      // @ts-ignore
      const rect = card.getBoundingClientRect();
      // @ts-ignore
      const x = e.clientX - rect.left;
      // @ts-ignore
      const y = e.clientY - rect.top;
      const centerX = rect.width / 2;
      const centerY = rect.height / 2;
      const rotateX = ((y - centerY) / centerY) * -5;
      const rotateY = ((x - centerX) / centerX) * 5;
      // @ts-ignore
      card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
    });
    card.addEventListener("mouseleave", () => {
      // @ts-ignore
      card.style.transform =
        "perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)";
    });
  });
</script>
